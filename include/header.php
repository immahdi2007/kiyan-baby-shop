<?php
session_start();
?>
<!DOCTYPE html>
<html lang="fa">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./Style/index-style.css?v=0.000001">
    <link rel="stylesheet" href="./css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <?php if (isset($page) && $page === "about"): ?>
        <link rel="stylesheet" href="./Style/aboutus.css">
    <?php endif; ?>
    <link rel="shortcut icon" href="favicon.ico" type="../img">
    <title>kids clothes</title>
</head>

<body>
    <div class="bg-color-header"></div>
    <header>
        <div class="left-menu header-item">

            <?php
                // echo  '<a class="left-link username__header" href="./userInformation.php" >'.$_SESSION['user']."</a>"; 
            if (isset($_SESSION['user'])) {
                ?>
                <div class="dropdown__wraper"></div>
                <a href="./userInformation.php" class="buy-cart left"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="36" height="36">
                    <path class="buy-cart-pic" d="M25.875 3.3125C21.183594 3.417969 18.214844 5.316406 16.9375 8.25C15.722656 11.042969 15.976563 14.5625 16.84375 18.21875C16.378906 18.765625 15.996094 19.535156 16.09375 20.6875L16.09375 20.75C16.261719 21.96875 16.628906 22.828125 17.09375 23.4375C17.320313 23.734375 17.65625 23.742188 17.9375 23.90625C18.09375 24.960938 18.351563 26.027344 18.75 26.90625C18.976563 27.40625 19.210938 27.839844 19.46875 28.21875C19.589844 28.394531 19.773438 28.507813 19.90625 28.65625L19.90625 32.25C19.585938 33.019531 18.824219 33.640625 17.625 34.25C16.375 34.882813 14.742188 35.464844 13.09375 36.1875C11.445313 36.910156 9.777344 37.804688 8.4375 39.1875C7.097656 40.570313 6.136719 42.449219 6 44.9375L5.9375 46L46.0625 46L46 44.9375C45.863281 42.449219 44.902344 40.570313 43.5625 39.1875C42.222656 37.804688 40.53125 36.910156 38.875 36.1875C37.21875 35.464844 35.578125 34.886719 34.3125 34.25C33.097656 33.640625 32.339844 33.027344 32 32.25L32 28.625C32.121094 28.484375 32.292969 28.386719 32.40625 28.21875C32.664063 27.839844 32.929688 27.40625 33.15625 26.90625C33.550781 26.035156 33.8125 24.980469 33.96875 23.9375C34.289063 23.773438 34.65625 23.761719 34.90625 23.4375C35.386719 22.808594 35.667969 21.914063 35.78125 20.6875C35.871094 19.628906 35.566406 18.859375 35.09375 18.28125C35.613281 16.679688 36.230469 14.117188 36.03125 11.5C35.921875 10.0625 35.542969 8.628906 34.6875 7.4375C33.914063 6.359375 32.664063 5.621094 31.09375 5.28125C30.035156 3.867188 28.113281 3.3125 25.90625 3.3125 Z M 25.90625 5.3125C25.917969 5.3125 25.925781 5.3125 25.9375 5.3125C27.933594 5.320313 29.210938 5.882813 29.625 6.59375L29.875 7.03125L30.375 7.09375C31.75 7.285156 32.503906 7.816406 33.0625 8.59375C33.621094 9.371094 33.941406 10.457031 34.03125 11.65625C34.214844 14.058594 33.519531 16.875 33.0625 18.15625L32.75 19L33.53125 19.40625C33.523438 19.433594 33.851563 19.765625 33.8125 20.5C33.8125 20.515625 33.8125 20.515625 33.8125 20.53125C33.71875 21.472656 33.476563 22.003906 33.3125 22.21875C33.144531 22.4375 33.058594 22.40625 33.09375 22.40625L32.1875 22.40625L32.09375 23.3125C32.007813 24.210938 31.683594 25.238281 31.3125 26.0625C31.125 26.476563 30.953125 26.84375 30.78125 27.09375C30.609375 27.34375 30.40625 27.488281 30.5 27.4375L30 27.71875L30 32.34375C30 32.375 30 32.40625 30 32.4375L30 32.5C30 32.488281 29.820313 32.929688 29.09375 33.3125C28.367188 33.695313 27.246094 34 26 34C24.742188 34 23.628906 33.714844 22.90625 33.34375C22.183594 32.972656 22 32.585938 22 32.5C22.003906 32.347656 21.96875 32.199219 21.90625 32.0625L21.90625 27.71875L21.40625 27.4375C21.5 27.488281 21.296875 27.34375 21.125 27.09375C20.953125 26.84375 20.75 26.476563 20.5625 26.0625C20.191406 25.238281 19.867188 24.210938 19.78125 23.3125L19.71875 22.40625L18.875 22.40625C18.839844 22.390625 18.746094 22.339844 18.65625 22.21875C18.480469 21.988281 18.230469 21.449219 18.09375 20.53125C18.09375 20.511719 18.09375 20.519531 18.09375 20.5C18.089844 20.484375 18.097656 20.484375 18.09375 20.46875C18.078125 19.710938 18.546875 19.289063 18.46875 19.34375L19.03125 18.9375L18.875 18.25C17.953125 14.605469 17.808594 11.304688 18.78125 9.0625C19.753906 6.828125 21.722656 5.414063 25.90625 5.3125 Z M 20.90625 34.375C21.226563 34.671875 21.59375 34.917969 22 35.125C23.078125 35.679688 24.457031 36 26 36C27.554688 36 28.960938 35.660156 30.03125 35.09375C30.40625 34.894531 30.761719 34.671875 31.0625 34.40625C31.71875 35.09375 32.558594 35.621094 33.4375 36.0625C34.886719 36.789063 36.539063 37.351563 38.09375 38.03125C39.648438 38.710938 41.074219 39.480469 42.125 40.5625C42.960938 41.425781 43.476563 42.574219 43.75 44L8.25 44C8.523438 42.574219 9.039063 41.425781 9.875 40.5625C10.921875 39.480469 12.355469 38.710938 13.90625 38.03125C15.457031 37.351563 17.09375 36.792969 18.53125 36.0625C19.417969 35.613281 20.261719 35.078125 20.90625 34.375Z" fill="#FFCBCB" />
                </svg></a>
                <ul class="user__dropdown">
                <li class="user__dropdown_header">
                    <h3> <?= $_SESSION['user'].' ' ?>خوش آمدید</h3>
                    <a href="./actions/logout.php"><svg class="logout_icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                        <path d="M2.5 1C1.675781 1 1 1.675781 1 2.5L1 12.5C1 13.324219 1.675781 14 2.5 14L12.5 14C13.324219 14 14 13.324219 14 12.5L14 10L13 11L13 12.5C13 12.78125 12.78125 13 12.5 13L2.5 13C2.21875 13 2 12.78125 2 12.5L2 2.5C2 2.21875 2.21875 2 2.5 2L12.5 2C12.78125 2 13 2.21875 13 2.5L13 4L14 5L14 2.5C14 1.675781 13.324219 1 12.5 1 Z M 10.730469 4.023438L10.019531 4.726563L12.292969 7L5 7L5 8L12.292969 8L10.019531 10.269531L10.730469 10.980469L14.207031 7.5Z" fill="#FFCBCB" />
                        </svg>
                    </a>
                </li>
                <li><a href="./userInformation.php">ناحیه کاربری 
                    <svg class="back_icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                        <path d="M34.960938 2.980469C34.441406 2.996094 33.949219 3.214844 33.585938 3.585938L13.585938 23.585938C12.804688 24.367188 12.804688 25.632813 13.585938 26.414063L33.585938 46.414063C34.085938 46.9375 34.832031 47.148438 35.535156 46.964844C36.234375 46.78125 36.78125 46.234375 36.964844 45.535156C37.148438 44.832031 36.9375 44.085938 36.414063 43.585938L17.828125 25L36.414063 6.414063C37.003906 5.839844 37.183594 4.960938 36.863281 4.199219C36.539063 3.441406 35.785156 2.957031 34.960938 2.980469Z" fill="#FFCBCB" />
                    </svg>
                    </a>
                </li>
                <li><a href="">علاقه مندی ها 
                    <svg class="back_icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                      <path d="M34.960938 2.980469C34.441406 2.996094 33.949219 3.214844 33.585938 3.585938L13.585938 23.585938C12.804688 24.367188 12.804688 25.632813 13.585938 26.414063L33.585938 46.414063C34.085938 46.9375 34.832031 47.148438 35.535156 46.964844C36.234375 46.78125 36.78125 46.234375 36.964844 45.535156C37.148438 44.832031 36.9375 44.085938 36.414063 43.585938L17.828125 25L36.414063 6.414063C37.003906 5.839844 37.183594 4.960938 36.863281 4.199219C36.539063 3.441406 35.785156 2.957031 34.960938 2.980469Z" fill="#FFCBCB" />
                    </svg>
                    </a>
                </li>
            </ul>
            <?php 
            } else { ?>
                <nav>
                    <a class="left-link" href="./login.php">ورود یا ثبت نام</a>
                <?php
            } ?>
                </nav>
                <div class="search-box-div">
                    <i class="fa-solid fa-magnifying-glass srch_i"></i>
                    <input class="input-field" type="text" name="" id="home_search" required placeholder="جستجو">
                </div>
        </div>
        <a href="index.php">
            <h1 class="title header-item">پوشاک کیان</h1>
        </a>
        <div class="right-menu header-item">
            <nav>
                <a id="home" href="index.php">صفحه اصلی</a>
                <a class="Product__categories" href="#">دسته بندی محصولات</a>
            </nav>
            <a href="#" class="buy-cart">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" width="36" height="36">
                    <path class="buy-cart-pic" d="M95.2 65l-54.6 8c-1.6.2-2.8 1.8-2.5 3.4.2 1.5 1.5 2.6 3 2.6.1 0 .3 0 .4 0l54.6-8c9.4-1.4 16.8-8.2 19-17.4l6.9-28.8c.2-.9 0-1.8-.6-2.6-.6-.7-1.4-1.1-2.4-1.1H21.5C18.8 8.7 11.3 2 11 1.7 9.7.7 7.8.8 6.8 2 5.7 3.3 5.8 5.2 7 6.2c.1.1 7.2 6.5 9 18.2l8.7 57.5c1 6.4 6.4 11.1 12.9 11.1H97c1.7 0 3-1.3 3-3s-1.3-3-3-3H37.6c-3.5 0-6.4-2.5-6.9-6l-8.2-54h92.7l-6 25.1C107.6 58.9 102.1 64 95.2 65zM31 114c0 7.2 5.8 13 13 13s13-5.8 13-13-5.8-13-13-13S31 106.8 31 114zM51 114c0 3.9-3.1 7-7 7s-7-3.1-7-7 3.1-7 7-7S51 110.1 51 114zM87 101c-7.2 0-13 5.8-13 13s5.8 13 13 13 13-5.8 13-13S94.2 101 87 101zM87 121c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7S90.9 121 87 121z" fill="#FFCBCB" />
                </svg>
            </a>
        </div>
    </header>
    <script>
        const inputField = document.querySelector('.input-field');
        const srchi = document.querySelector('.srch_i');
        inputField.addEventListener('input', function() {
            if (inputField.validity.valid) {
                srchi.classList.add('valid');
            } else {
                srchi.classList.remove('valid');
            }
        });
        const user__dropdown = document.querySelector('.user__dropdown');
        const dropdown__wraper = document.querySelector('.dropdown__wraper');
        const user__icon = document.querySelector('.buy-cart.left');
        
        dropdown__wraper.addEventListener('mouseenter', function(){
            user__dropdown.classList.add('show');
        });
        dropdown__wraper.addEventListener('mouseleave', function(){
            user__dropdown.classList.remove('show');
        });
        user__dropdown.addEventListener('mouseenter', function(){
            user__dropdown.classList.add('show');
        });
        user__dropdown.addEventListener('mouseleave', function(){
            user__dropdown.classList.remove('show');
        });
        user__icon.addEventListener('mouseenter', function(){
            user__dropdown.classList.add('show');
        });
        user__icon.addEventListener('mouseleave', function(){
            user__dropdown.classList.remove('show');
        });
    </script>